<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KERYVERSE</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0c0c1d 0%, #1a1a2e 50%, #16213e 100%);
            color: #fff;
            position: fixed;
            touch-action: manipulation;
        }

        /* –ù–µ–æ–Ω–æ–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255, 102, 204, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(102, 204, 255, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(204, 102, 255, 0.1) 0%, transparent 50%);
            z-index: -1;
            animation: gradientShift 20s ease-in-out infinite alternate;
        }

        /* Mobile Only Check */
        .desktop-warning {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0c0c1d 0%, #1a1a2e 100%);
            z-index: 9999;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
            color: white;
        }

        @media (min-width: 769px) {
            .desktop-warning {
                display: flex;
            }
            
            .mobile-app {
                display: none;
            }
        }

        .mobile-app {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            background: transparent;
        }

        /* Status Bar (iOS style) */
        .status-bar {
            height: 44px;
            background: rgba(20, 20, 35, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            font-size: 14px;
            font-weight: 600;
            color: #fff;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 100;
        }

        .time {
            font-weight: 700;
            background: linear-gradient(135deg, #ff66cc, #66ccff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .status-icons {
            display: flex;
            gap: 5px;
            color: #fff;
        }

        /* Header */
        .header {
            padding: 20px;
            text-align: center;
            position: relative;
        }

        .logo {
            font-family: 'Dancing Script', cursive;
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #ff66cc 0%, #66ccff 50%, #cc66ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255, 102, 204, 0.3);
            animation: neonGlow 3s ease-in-out infinite alternate;
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            justify-content: space-around;
            padding: 15px 20px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            margin: 0 20px;
            box-shadow: 
                0 4px 15px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            z-index: 10;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .stat-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #ff66cc, #66ccff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            box-shadow: 0 0 20px rgba(255, 102, 204, 0.3);
            transition: all 0.3s ease;
        }

        .stat-item:hover .stat-icon {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 0 30px rgba(102, 204, 255, 0.5);
        }

        .stat-value {
            font-weight: 700;
            font-size: 1.1rem;
            color: #fff;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .stat-label {
            font-size: 0.7rem;
            color: rgba(255, 255, 255, 0.7);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            padding: 20px;
            padding-bottom: 100px;
        }

        /* Character Section */
        .character-section {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .character-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff66cc, #66ccff, #cc66ff);
            border-radius: 2px;
        }

        .character-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }

        /* –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫—É–∫–æ–ª–∫–∞ –ö–µ—Ä—Ä–∏ */
        .mobile-doll {
            position: relative;
            width: 220px;
            height: 320px;
            margin: 0 auto;
            filter: drop-shadow(0 0 20px rgba(255, 102, 204, 0.3));
            animation: float 6s ease-in-out infinite;
        }

        .doll-hair {
            position: absolute;
            width: 180px;
            height: 120px;
            background: linear-gradient(135deg, #ffd700, #ffcc66, #fffacd, #ffd700);
            border-radius: 50% 50% 40% 40%;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
            box-shadow: 
                0 10px 25px rgba(255, 215, 0, 0.4),
                inset 0 -5px 15px rgba(0, 0, 0, 0.1);
            animation: hairShine 4s ease-in-out infinite;
        }

        .doll-face {
            position: absolute;
            width: 120px;
            height: 140px;
            background: linear-gradient(135deg, #fffacd, #fff8dc, #fffacd);
            border-radius: 45% 45% 50% 50%;
            top: 90px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 2;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.2),
                inset 0 5px 20px rgba(255, 255, 255, 0.9),
                inset 0 -5px 10px rgba(0, 0, 0, 0.1);
        }

        .doll-eyes {
            position: absolute;
            top: 50px;
            width: 100%;
            display: flex;
            justify-content: space-around;
            z-index: 3;
        }

        .eye {
            width: 24px;
            height: 36px;
            background: linear-gradient(135deg, #87ceeb, #66ccff, #1e90ff);
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(102, 204, 255, 0.5);
        }

        .eye::before {
            content: '';
            position: absolute;
            width: 14px;
            height: 14px;
            background: #0066cc;
            border-radius: 50%;
            top: 11px;
            left: 5px;
            animation: blink 4s infinite, sparkle 2s infinite;
        }

        .eye::after {
            content: '';
            position: absolute;
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            top: 8px;
            left: 8px;
            opacity: 0.8;
        }

        .doll-mouth {
            position: absolute;
            width: 35px;
            height: 20px;
            background: linear-gradient(135deg, #ff3366, #ff66cc);
            border-radius: 0 0 20px 20px;
            bottom: 35px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 3;
            animation: smile 5s infinite, mouthGlow 3s infinite;
            box-shadow: 0 0 15px rgba(255, 102, 204, 0.5);
        }

        .doll-body {
            position: absolute;
            width: 110px;
            height: 160px;
            background: linear-gradient(135deg, #ff99cc, #ff66cc, #ff3399);
            border-radius: 40% 40% 30% 30%;
            top: 180px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
            box-shadow: 
                0 15px 35px rgba(255, 102, 204, 0.4),
                inset 0 -10px 20px rgba(0, 0, 0, 0.1);
            animation: bodyGlow 4s ease-in-out infinite;
        }

        .doll-dress {
            position: absolute;
            width: 140px;
            height: 120px;
            background: linear-gradient(135deg, #66ccff, #3399ff, #0066cc, #66ccff);
            border-radius: 40% 40% 20% 20%;
            top: 190px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 0;
            box-shadow: 
                0 15px 35px rgba(102, 204, 255, 0.4),
                inset 0 -10px 20px rgba(0, 0, 0, 0.1);
            animation: dressFlow 5s ease-in-out infinite;
        }

        /* –£–∫—Ä–∞—à–µ–Ω–∏—è –∫—É–∫–æ–ª–∫–∏ */
        .doll-accessories {
            position: absolute;
            width: 100%;
            height: 100%;
            z-index: 4;
        }

        .hair-accessory {
            position: absolute;
            width: 30px;
            height: 30px;
            background: linear-gradient(135deg, #ff66cc, #cc66ff);
            border-radius: 50%;
            top: 50px;
            left: 50%;
            transform: translateX(-50%) rotate(45deg);
            box-shadow: 0 0 20px rgba(204, 102, 255, 0.6);
            animation: spin 10s linear infinite;
        }

        .hair-accessory::before {
            content: '‚ú¶';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 18px;
        }

        /* Doll Info */
        .doll-info {
            text-align: center;
            width: 100%;
        }

        .doll-name {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #ff66cc, #66ccff, #cc66ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
            text-shadow: 0 0 20px rgba(255, 102, 204, 0.3);
        }

        .doll-title {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.9rem;
            margin-bottom: 15px;
            letter-spacing: 1px;
        }

        .mood-display {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(255, 102, 204, 0.15);
            padding: 12px 25px;
            border-radius: 50px;
            margin-bottom: 20px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 102, 204, 0.3);
            box-shadow: 0 0 20px rgba(255, 102, 204, 0.2);
            animation: pulseMood 2s ease-in-out infinite;
        }

        .mood-emoji {
            font-size: 2rem;
            animation: bounce 2s infinite, rotateEmoji 5s infinite;
        }

        .mood-text {
            font-weight: 600;
            color: #ff66cc;
            text-shadow: 0 0 10px rgba(255, 102, 204, 0.5);
        }

        .doll-dialogue {
            background: rgba(102, 204, 255, 0.1);
            padding: 20px;
            border-radius: 20px;
            border-left: 4px solid #66ccff;
            font-style: italic;
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.5;
            font-size: 1rem;
            backdrop-filter: blur(5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            animation: fadeInUp 0.5s ease-out;
            position: relative;
            overflow: hidden;
        }

        .doll-dialogue::before {
            content: '"';
            position: absolute;
            top: 5px;
            left: 10px;
            font-size: 4rem;
            color: rgba(255, 255, 255, 0.1);
            font-family: serif;
        }

        /* Stats Cards */
        .stats-cards {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 15px 35px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 102, 204, 0.3);
        }

        .stat-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .stat-icon-small {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #ff66cc, #66ccff);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            box-shadow: 0 0 15px rgba(255, 102, 204, 0.3);
        }

        .stat-name {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.8);
            flex: 1;
            font-weight: 500;
        }

        .stat-value-card {
            font-size: 1.6rem;
            font-weight: 700;
            color: #fff;
            text-align: center;
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.3);
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.3), 
                transparent);
            animation: shimmer 2s infinite;
        }

        .health-bar .progress-fill { 
            background: linear-gradient(90deg, #ff3366, #ff66cc, #ff99cc);
            box-shadow: 0 0 10px rgba(255, 102, 204, 0.5);
        }
        .mood-bar .progress-fill { 
            background: linear-gradient(90deg, #66ccff, #3399ff, #0066cc);
            box-shadow: 0 0 10px rgba(102, 204, 255, 0.5);
        }
        .energy-bar .progress-fill { 
            background: linear-gradient(90deg, #ffcc00, #ff9900, #ff6600);
            box-shadow: 0 0 10px rgba(255, 204, 0, 0.5);
        }
        .xp-bar .progress-fill { 
            background: linear-gradient(90deg, #cc66ff, #9933cc, #660099);
            box-shadow: 0 0 10px rgba(204, 102, 255, 0.5);
        }

        /* Actions Grid */
        .actions-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }

        .action-btn {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 102, 204, 0.1), 
                rgba(102, 204, 255, 0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .action-btn:hover::before {
            opacity: 1;
        }

        .action-btn:active {
            transform: scale(0.95) translateY(2px);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .action-btn i {
            width: 55px;
            height: 55px;
            background: linear-gradient(135deg, #ff66cc, #66ccff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
            box-shadow: 0 0 25px rgba(255, 102, 204, 0.4);
            z-index: 1;
            transition: all 0.3s ease;
        }

        .action-btn:hover i {
            transform: scale(1.1) rotate(10deg);
            box-shadow: 0 0 35px rgba(102, 204, 255, 0.6);
        }

        .action-name {
            font-weight: 600;
            color: #fff;
            font-size: 1rem;
            text-align: center;
            z-index: 1;
        }

        .action-cost {
            font-size: 0.85rem;
            color: #ffcc66;
            font-weight: 600;
            z-index: 1;
            text-shadow: 0 0 5px rgba(255, 204, 102, 0.3);
        }

        /* Shop Items */
        .shop-section {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .section-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: #fff;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .section-title i {
            color: #ff66cc;
            text-shadow: 0 0 15px rgba(255, 102, 204, 0.5);
        }

        .shop-items {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .shop-item {
            background: rgba(255, 102, 204, 0.08);
            backdrop-filter: blur(5px);
            border-radius: 20px;
            padding: 20px;
            border: 1px solid rgba(255, 102, 204, 0.2);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .shop-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 102, 204, 0.1), 
                rgba(102, 204, 255, 0.1));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .shop-item:hover::before {
            opacity: 1;
        }

        .shop-item:active {
            transform: scale(0.98);
            background: rgba(255, 102, 204, 0.15);
        }

        .item-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            z-index: 1;
            position: relative;
        }

        .item-icon {
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #ff66cc, #66ccff);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            box-shadow: 0 0 20px rgba(255, 102, 204, 0.4);
        }

        .item-name {
            font-weight: 600;
            color: #fff;
            font-size: 0.95rem;
            flex: 1;
        }

        .item-price {
            font-weight: 700;
            color: #ffcc66;
            font-size: 1.2rem;
            text-shadow: 0 0 5px rgba(255, 204, 102, 0.3);
        }

        .item-desc {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 15px;
            line-height: 1.4;
            z-index: 1;
            position: relative;
        }

        .item-effects {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            z-index: 1;
            position: relative;
        }

        .effect-tag {
            background: rgba(102, 204, 255, 0.15);
            color: #66ccff;
            padding: 6px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            display: flex;
            align-items: center;
            gap: 5px;
            border: 1px solid rgba(102, 204, 255, 0.3);
        }

        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(20, 20, 35, 0.95);
            backdrop-filter: blur(20px);
            display: flex;
            justify-content: space-around;
            padding: 15px 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.3);
            z-index: 1000;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            text-decoration: none;
            color: rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
            padding: 10px 15px;
            border-radius: 15px;
            position: relative;
        }

        .nav-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 102, 204, 0.1), 
                rgba(102, 204, 255, 0.1));
            border-radius: 15px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-item.active {
            color: #ff66cc;
            background: rgba(255, 102, 204, 0.15);
            transform: translateY(-5px);
        }

        .nav-item.active::before {
            opacity: 1;
        }

        .nav-item:active {
            transform: scale(0.95);
        }

        .nav-icon {
            font-size: 22px;
            transition: all 0.3s ease;
            z-index: 1;
            position: relative;
        }

        .nav-item.active .nav-icon {
            text-shadow: 0 0 15px rgba(255, 102, 204, 0.5);
        }

        .nav-label {
            font-size: 0.75rem;
            font-weight: 600;
            z-index: 1;
            position: relative;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 100px;
            left: 20px;
            right: 20px;
            background: rgba(20, 20, 35, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            transform: translateY(-100px);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            z-index: 1001;
            border-left: 5px solid #ff66cc;
            overflow: hidden;
        }

        .notification::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 102, 204, 0.05), 
                rgba(102, 204, 255, 0.05));
            z-index: -1;
        }

        .notification.show {
            transform: translateY(0);
            opacity: 1;
        }

        .notification-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }

        .notification-icon {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, #ff66cc, #66ccff);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
            box-shadow: 0 0 20px rgba(255, 102, 204, 0.4);
        }

        .notification-title {
            font-weight: 700;
            color: #fff;
            flex: 1;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .notification-message {
            color: rgba(255, 255, 255, 0.8);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0c0c1d 0%, #1a1a2e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            transition: opacity 0.5s ease;
        }

        .loading-logo {
            font-family: 'Dancing Script', cursive;
            font-size: 4.5rem;
            background: linear-gradient(135deg, #ff66cc 0%, #66ccff 50%, #cc66ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 30px;
            text-shadow: 0 0 30px rgba(255, 102, 204, 0.3);
            animation: pulse 1.5s infinite, neonGlow 3s infinite alternate;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top-color: #ff66cc;
            border-right-color: #66ccff;
            border-bottom-color: #cc66ff;
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes neonGlow {
            0% { text-shadow: 0 0 10px rgba(255, 102, 204, 0.5), 
                             0 0 20px rgba(255, 102, 204, 0.3), 
                             0 0 30px rgba(255, 102, 204, 0.2); }
            100% { text-shadow: 0 0 15px rgba(102, 204, 255, 0.5), 
                               0 0 25px rgba(102, 204, 255, 0.3), 
                               0 0 35px rgba(102, 204, 255, 0.2); }
        }

        @keyframes gradientShift {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(2deg); }
        }

        @keyframes hairShine {
            0%, 100% { 
                background: linear-gradient(135deg, #ffd700, #ffcc66, #fffacd, #ffd700);
                box-shadow: 
                    0 10px 25px rgba(255, 215, 0, 0.4),
                    inset 0 -5px 15px rgba(0, 0, 0, 0.1);
            }
            50% { 
                background: linear-gradient(135deg, #fffacd, #ffd700, #ffcc66, #fffacd);
                box-shadow: 
                    0 10px 35px rgba(255, 215, 0, 0.6),
                    inset 0 -5px 20px rgba(0, 0, 0, 0.2);
            }
        }

        @keyframes blink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }

        @keyframes sparkle {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        @keyframes smile {
            0%, 80%, 100% { height: 20px; border-radius: 0 0 20px 20px; }
            85%, 95% { height: 15px; border-radius: 0 0 15px 15px; }
        }

        @keyframes mouthGlow {
            0%, 100% { box-shadow: 0 0 15px rgba(255, 102, 204, 0.5); }
            50% { box-shadow: 0 0 25px rgba(255, 102, 204, 0.8); }
        }

        @keyframes bodyGlow {
            0%, 100% { box-shadow: 
                0 15px 35px rgba(255, 102, 204, 0.4),
                inset 0 -10px 20px rgba(0, 0, 0, 0.1); 
            }
            50% { box-shadow: 
                0 15px 45px rgba(255, 102, 204, 0.6),
                inset 0 -10px 25px rgba(0, 0, 0, 0.2); 
            }
        }

        @keyframes dressFlow {
            0%, 100% { 
                background: linear-gradient(135deg, #66ccff, #3399ff, #0066cc, #66ccff);
                box-shadow: 
                    0 15px 35px rgba(102, 204, 255, 0.4),
                    inset 0 -10px 20px rgba(0, 0, 0, 0.1);
            }
            50% { 
                background: linear-gradient(135deg, #3399ff, #0066cc, #66ccff, #3399ff);
                box-shadow: 
                    0 15px 45px rgba(102, 204, 255, 0.6),
                    inset 0 -10px 25px rgba(0, 0, 0, 0.2);
            }
        }

        @keyframes spin {
            to { transform: translateX(-50%) rotate(405deg); }
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        @keyframes rotateEmoji {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(5deg); }
            75% { transform: rotate(-5deg); }
            100% { transform: rotate(0deg); }
        }

        @keyframes pulseMood {
            0%, 100% { 
                box-shadow: 0 0 20px rgba(255, 102, 204, 0.2);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 30px rgba(255, 102, 204, 0.4);
                transform: scale(1.02);
            }
        }

        @keyframes fadeInUp {
            from { 
                opacity: 0;
                transform: translateY(20px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(200%); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.8; transform: scale(1.05); }
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* –°–∫—Ä—ã—Ç—å —Å–∫—Ä–æ–ª–ª–±–∞—Ä */
        .main-content::-webkit-scrollbar {
            display: none;
        }

        .main-content {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Swipe indicators */
        .swipe-hint {
            position: fixed;
            bottom: 80px;
            left: 0;
            right: 0;
            text-align: center;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.85rem;
            animation: fadeInOut 2s infinite;
            pointer-events: none;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }

        /* Telegram Button */
        .telegram-btn {
            background: linear-gradient(135deg, #0088cc, #00aced, #0088cc);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-weight: 600;
            font-size: 1.05rem;
            margin: 20px auto;
            width: calc(100% - 40px);
            box-shadow: 
                0 10px 30px rgba(0, 136, 204, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .telegram-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.1), 
                rgba(255, 255, 255, 0.05));
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .telegram-btn:hover::before {
            opacity: 1;
        }

        .telegram-btn:active {
            transform: scale(0.98);
            box-shadow: 0 5px 20px rgba(0, 136, 204, 0.4);
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç—ã —á–∞—Å—Ç–∏—Ü */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: #ff66cc;
            border-radius: 50%;
            animation: particleFloat 20s linear infinite;
        }

        .particle:nth-child(2n) {
            background: #66ccff;
        }

        .particle:nth-child(3n) {
            background: #cc66ff;
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) translateX(100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-height: 700px) {
            .mobile-doll {
                width: 180px;
                height: 250px;
            }
            
            .doll-hair {
                width: 150px;
                height: 100px;
                top: 30px;
            }
            
            .doll-face {
                width: 100px;
                height: 120px;
                top: 70px;
            }
            
            .doll-body {
                width: 90px;
                height: 130px;
                top: 140px;
            }
            
            .doll-dress {
                width: 120px;
                height: 100px;
                top: 150px;
            }
            
            .doll-name {
                font-size: 1.8rem;
            }
        }

        @media (max-width: 320px) {
            .stats-cards, .actions-grid, .shop-items {
                grid-template-columns: 1fr;
            }
            
            .logo {
                font-size: 3rem;
            }
            
            .mobile-doll {
                width: 160px;
                height: 220px;
            }
        }
    </style>
</head>
<body>
    <!-- –ß–∞—Å—Ç–∏—Ü—ã –¥–ª—è —Ñ–æ–Ω–∞ -->
    <div class="particles" id="particles"></div>

    <!-- Desktop Warning -->
    <div class="desktop-warning">
        <div style="font-size: 4rem; margin-bottom: 20px; animation: bounce 2s infinite;">üì±</div>
        <h1 style="font-size: 2.5rem; margin-bottom: 20px; background: linear-gradient(135deg, #ff66cc, #66ccff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">KERYVERSE</h1>
        <p style="font-size: 1.2rem; max-width: 500px; line-height: 1.5; color: rgba(255, 255, 255, 0.8);">
            –≠—Ç–∞ –≤–µ—Ä—Å–∏—è –∏–≥—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤.
            <br><br>
            –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ –∏–≥—Ä—É –Ω–∞ –≤–∞—à–µ–º —Å–º–∞—Ä—Ç—Ñ–æ–Ω–µ –∏–ª–∏ –ø–ª–∞–Ω—à–µ—Ç–µ –¥–ª—è –Ω–∞–∏–ª—É—á—à–µ–≥–æ –æ–ø—ã—Ç–∞.
            <br><br>
            <span style="color: #ff66cc;">‚ú® –ö—É–∫–æ–ª–∫–∞ –ö–µ—Ä—Ä–∏ –∂–¥—ë—Ç –≤–∞—Å! ‚ú®</span>
        </p>
    </div>

    <!-- Mobile App -->
    <div class="mobile-app">
        <!-- Status Bar -->
        <div class="status-bar">
            <div class="time" id="currentTime">14:30</div>
            <div class="status-icons">
                <i class="fas fa-signal"></i>
                <i class="fas fa-wifi"></i>
                <i class="fas fa-battery-three-quarters"></i>
            </div>
        </div>

        <!-- Loading Screen -->
        <div class="loading-screen" id="loadingScreen">
            <div class="loading-logo">KERYVERSE</div>
            <div class="loading-spinner"></div>
            <div style="color: rgba(255, 255, 255, 0.6); margin-top: 20px; font-size: 0.9rem;">
                –ó–∞–≥—Ä—É–∑–∫–∞ –∫—É–∫–æ–ª–∫–∏ –ö–µ—Ä—Ä–∏...
            </div>
        </div>

        <!-- Notification -->
        <div class="notification" id="notification">
            <div class="notification-header">
                <div class="notification-icon">
                    <i class="fas fa-heart"></i>
                </div>
                <div class="notification-title">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</div>
            </div>
            <div class="notification-message">–ö–µ—Ä—Ä–∏ —Ä–∞–¥–∞ –≤–∏–¥–µ—Ç—å –≤–∞—Å! –û–Ω–∞ —Å–µ–≥–æ–¥–Ω—è –æ—Å–æ–±–µ–Ω–Ω–æ –∫—Ä–∞—Å–∏–≤–∞—è! üíñ</div>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="mainContent" style="display: none;">
            <!-- Header -->
            <div class="header">
                <div class="logo">KERYVERSE</div>
            </div>

            <!-- Stats Bar -->
            <div class="stats-bar">
                <div class="stat-item">
                    <div class="stat-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <div class="stat-value" id="coinsStat">1,250</div>
                    <div class="stat-label">Coins</div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon">
                        <i class="fas fa-gem"></i>
                    </div>
                    <div class="stat-value" id="gemsStat">25</div>
                    <div class="stat-label">Gems</div>
                </div>
                <div class="stat-item">
                    <div class="stat-icon">
                        <i class="fas fa-crown"></i>
                    </div>
                    <div class="stat-value" id="levelStat">12</div>
                    <div class="stat-label">Level</div>
                </div>
            </div>

            <!-- Character Section -->
            <div class="character-section">
                <div class="character-container">
                    <div class="mobile-doll">
                        <div class="doll-hair"></div>
                        <div class="doll-face">
                            <div class="doll-eyes">
                                <div class="eye left"></div>
                                <div class="eye right"></div>
                            </div>
                            <div class="doll-mouth"></div>
                        </div>
                        <div class="doll-dress"></div>
                        <div class="doll-body"></div>
                        <div class="doll-accessories">
                            <div class="hair-accessory"></div>
                        </div>
                    </div>
                    
                    <div class="doll-info">
                        <div class="doll-name">Kerry Doll</div>
                        <div class="doll-title">Blonde Princess ‚Ä¢ Level 12 ‚Ä¢ VIP</div>
                        
                        <div class="mood-display">
                            <div class="mood-emoji" id="moodEmoji">üíñ</div>
                            <div class="mood-text" id="moodText">Ecstatic</div>
                        </div>
                        
                        <div class="doll-dialogue" id="dialogueText">
                            –ü—Ä–∏–≤–µ—Ç! –Ø –ö–µ—Ä—Ä–∏, —Ç–≤–æ—è –∏–¥–µ–∞–ª—å–Ω–∞—è –∫—É–∫–æ–ª–∫–∞! –Ø –æ–±–æ–∂–∞—é, –∫–æ–≥–¥–∞ —Ç—ã –∑–∞–±–æ—Ç–∏—à—å—Å—è –æ–±–æ –º–Ω–µ! –î–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º —ç—Ç–æ—Ç –¥–µ–Ω—å –≤–æ–ª—à–µ–±–Ω—ã–º! ‚ú®
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stats Cards -->
            <div class="stats-cards">
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon-small">
                            <i class="fas fa-heart"></i>
                        </div>
                        <div class="stat-name">Health</div>
                    </div>
                    <div class="stat-value-card" id="healthValue">85%</div>
                    <div class="progress-bar health-bar">
                        <div class="progress-fill" id="healthBar" style="width: 85%;"></div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon-small">
                            <i class="fas fa-smile"></i>
                        </div>
                        <div class="stat-name">Mood</div>
                    </div>
                    <div class="stat-value-card" id="moodValue">92%</div>
                    <div class="progress-bar mood-bar">
                        <div class="progress-fill" id="moodBar" style="width: 92%;"></div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon-small">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="stat-name">Energy</div>
                    </div>
                    <div class="stat-value-card" id="energyValue">78%</div>
                    <div class="progress-bar energy-bar">
                        <div class="progress-fill" id="energyBar" style="width: 78%;"></div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon-small">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="stat-name">Experience</div>
                    </div>
                    <div class="stat-value-card" id="xpValue">750/1000</div>
                    <div class="progress-bar xp-bar">
                        <div class="progress-fill" id="xpBar" style="width: 75%;"></div>
                    </div>
                </div>
            </div>

            <!-- Actions Grid -->
            <div class="section-title">
                <i class="fas fa-magic"></i>
                Actions
            </div>
            <div class="actions-grid">
                <button class="action-btn" onclick="performAction('feed')">
                    <i class="fas fa-cookie-bite"></i>
                    <div class="action-name">Feed</div>
                    <div class="action-cost">-15 Coins</div>
                </button>
                
                <button class="action-btn" onclick="performAction('play')">
                    <i class="fas fa-gamepad"></i>
                    <div class="action-name">Play</div>
                    <div class="action-cost">-5 Energy</div>
                </button>
                
                <button class="action-btn" onclick="performAction('beauty')">
                    <i class="fas fa-spa"></i>
                    <div class="action-name">Beauty</div>
                    <div class="action-cost">-25 Coins</div>
                </button>
                
                <button class="action-btn" onclick="performAction('study')">
                    <i class="fas fa-book"></i>
                    <div class="action-name">Study</div>
                    <div class="action-cost">-10 Energy</div>
                </button>
                
                <button class="action-btn" onclick="performAction('rest')">
                    <i class="fas fa-bed"></i>
                    <div class="action-name">Rest</div>
                    <div class="action-cost">FREE</div>
                </button>
                
                <button class="action-btn" onclick="performAction('hug')">
                    <i class="fas fa-heart"></i>
                    <div class="action-name">Hug</div>
                    <div class="action-cost">FREE</div>
                </button>
            </div>

            <!-- Shop Section -->
            <div class="shop-section">
                <div class="section-title">
                    <i class="fas fa-shopping-bag"></i>
                    Shop
                </div>
                <div class="shop-items">
                    <div class="shop-item" onclick="buyItem('dress')">
                        <div class="item-header">
                            <div class="item-icon">
                                <i class="fas fa-tshirt"></i>
                            </div>
                            <div class="item-name">Pink Dress</div>
                            <div class="item-price">120</div>
                        </div>
                        <div class="item-desc">Beautiful pink dress for Kerry</div>
                        <div class="item-effects">
                            <span class="effect-tag">
                                <i class="fas fa-smile"></i> +15 Mood
                            </span>
                        </div>
                    </div>
                    
                    <div class="shop-item" onclick="buyItem('hair')">
                        <div class="item-header">
                            <div class="item-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="item-name">Hair Accessory</div>
                            <div class="item-price">80</div>
                        </div>
                        <div class="item-desc">Sparkling hair accessory</div>
                        <div class="item-effects">
                            <span class="effect-tag">
                                <i class="fas fa-heart"></i> +10 Health
                            </span>
                        </div>
                    </div>
                    
                    <div class="shop-item" onclick="buyItem('guide')">
                        <div class="item-header">
                            <div class="item-icon">
                                <i class="fas fa-book"></i>
                            </div>
                            <div class="item-name">Beauty Guide</div>
                            <div class="item-price">2 <i class="fas fa-gem"></i></div>
                        </div>
                        <div class="item-desc">Premium beauty techniques</div>
                        <div class="item-effects">
                            <span class="effect-tag">
                                <i class="fas fa-star"></i> +50 XP
                            </span>
                        </div>
                    </div>
                    
                    <div class="shop-item" onclick="buyItem('perfume')">
                        <div class="item-header">
                            <div class="item-icon">
                                <i class="fas fa-wind"></i>
                            </div>
                            <div class="item-name">Perfume</div>
                            <div class="item-price">150</div>
                        </div>
                        <div class="item-desc">Lovely floral perfume</div>
                        <div class="item-effects">
                            <span class="effect-tag">
                                <i class="fas fa-smile"></i> +20 Mood
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Telegram Button -->
            <button class="telegram-btn" onclick="connectTelegram()">
                <i class="fab fa-telegram"></i>
                Connect Telegram for Rewards
            </button>

            <!-- Swipe Hint -->
            <div class="swipe-hint">
                <i class="fas fa-chevron-up"></i> Swipe up for more
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <a href="#" class="nav-item active" onclick="switchTab('home')">
                <div class="nav-icon">üè†</div>
                <div class="nav-label">Home</div>
            </a>
            <a href="#" class="nav-item" onclick="switchTab('shop')">
                <div class="nav-icon">üõçÔ∏è</div>
                <div class="nav-label">Shop</div>
            </a>
            <a href="#" class="nav-item" onclick="switchTab('quests')">
                <div class="nav-icon">üéØ</div>
                <div class="nav-label">Quests</div>
            </a>
            <a href="#" class="nav-item" onclick="switchTab('profile')">
                <div class="nav-icon">üë§</div>
                <div class="nav-label">Profile</div>
            </a>
        </div>
    </div>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–∏—Ü
        function initParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = 30;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // –°–ª—É—á–∞–π–Ω—ã–µ –Ω–∞—á–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏
                const left = Math.random() * 100;
                const size = Math.random() * 3 + 1;
                const duration = Math.random() * 20 + 10;
                const delay = Math.random() * 10;
                
                particle.style.left = `${left}%`;
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                particle.style.animationDelay = `${delay}s`;
                particle.style.animationDuration = `${duration}s`;
                
                particlesContainer.appendChild(particle);
            }
        }

        // Game State
        const gameState = {
            coins: 1250,
            gems: 25,
            level: 12,
            health: 85,
            mood: 92,
            energy: 78,
            xp: 750,
            xpNeeded: 1000,
            dollMood: 'ecstatic',
            inventory: [],
            lastPlay: Date.now()
        };

        // –î–∏–∞–ª–æ–≥–∏ –ö–µ—Ä—Ä–∏
        const dialogues = [
            "–ü—Ä–∏–≤–µ—Ç! –Ø –ö–µ—Ä—Ä–∏, —Ç–≤–æ—è –∏–¥–µ–∞–ª—å–Ω–∞—è –∫—É–∫–æ–ª–∫–∞! –Ø –æ–±–æ–∂–∞—é, –∫–æ–≥–¥–∞ —Ç—ã –∑–∞–±–æ—Ç–∏—à—å—Å—è –æ–±–æ –º–Ω–µ! –î–∞–≤–∞–π —Å–¥–µ–ª–∞–µ–º —ç—Ç–æ—Ç –¥–µ–Ω—å –≤–æ–ª—à–µ–±–Ω—ã–º! ‚ú®",
            "–°–µ–≥–æ–¥–Ω—è –æ—Ç–ª–∏—á–Ω—ã–π –¥–µ–Ω—å –¥–ª—è —É—Ö–æ–¥–∞ –∑–∞ —Å–æ–±–æ–π! –•–æ—á–µ—à—å —Å–¥–µ–ª–∞—Ç—å –º–Ω–µ –Ω–æ–≤—É—é –ø—Ä–∏—á—ë—Å–∫—É? üíá‚Äç‚ôÄÔ∏è",
            "–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –∑–∞–±–æ—Ç–∏—à—å—Å—è –æ–±–æ –º–Ω–µ! –Ø —Ç–∞–∫ —Å—á–∞—Å—Ç–ª–∏–≤–∞! –¢—ã –ª—É—á—à–∏–π —Ö–æ–∑—è–∏–Ω –≤ –º–∏—Ä–µ! üòä",
            "–•–æ—á–µ—à—å –ø–æ–∏–≥—Ä–∞—Ç—å? –£ –º–µ–Ω—è –µ—Å—Ç—å –∏–¥–µ–∏ –¥–ª—è –≤–µ—Å—ë–ª—ã—Ö –∏–≥—Ä! –ú–æ–∂–µ—Ç, —É—Å—Ç—Ä–æ–∏–º —á–∞–µ–ø–∏—Ç–∏–µ? üéÆ",
            "–ö—Ä–∞—Å–æ—Ç–∞ —Ç—Ä–µ–±—É–µ—Ç —É—Ö–æ–¥–∞, –Ω–æ —ç—Ç–æ —Ç–∞–∫ –ø—Ä–∏—è—Ç–Ω–æ! –Ø –æ–±–æ–∂–∞—é —Å–ø–∞1–ø—Ä–æ—Ü–µ–¥—É—Ä—ã! üíÖ",
            "–Ø –æ–±–æ–∂–∞—é –Ω–æ–≤—ã–µ –ø–ª–∞—Ç—å—è –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã! –ú–æ–∂–µ—Ç, –∫—É–ø–∏–º —á—Ç–æ-–Ω–∏–±—É–¥—å –∫—Ä–∞—Å–∏–≤–æ–µ? üõçÔ∏è",
            "–û–±–Ω–∏–º–∞—à–∫–∏ –¥–µ–ª–∞—é—Ç –¥–µ–Ω—å –ª—É—á—à–µ! –î–∞–≤–∞–π –æ–±–Ω–∏–º–µ–º—Å—è! –¢—ã —Ç–∞–∫–æ–π —Ç—ë–ø–ª—ã–π! ü§ó",
            "–ü–æ—Å–º–æ—Ç—Ä–∏ –Ω–∞ –º–æ—ë –Ω–æ–≤–æ–µ –ø–ª–∞—Ç—å–µ! –û–Ω–æ –∏–¥–µ–∞–ª—å–Ω–æ –º–Ω–µ –ø–æ–¥—Ö–æ–¥–∏—Ç, –ø—Ä–∞–≤–¥–∞? üëó",
            "–Ø —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –æ—Å–æ–±–µ–Ω–Ω–æ–π, –∫–æ–≥–¥–∞ —Ç—ã —Å–æ –º–Ω–æ–π! –¢—ã –¥–µ–ª–∞–µ—à—å –º–µ–Ω—è —Å—á–∞—Å—Ç–ª–∏–≤–æ–π! üíñ",
            "–ú–Ω–µ –Ω—Ä–∞–≤–∏—Ç—Å—è, –∫–∞–∫ —Ç—ã –∑–∞–±–æ—Ç–∏—à—å—Å—è –æ–±–æ –º–Ω–µ! –Ø —Å–∞–º–∞—è —Å—á–∞—Å—Ç–ª–∏–≤–∞—è –∫—É–∫–æ–ª–∫–∞ –≤ –º–∏—Ä–µ! ü•∞"
        ];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            // –°–æ–∑–¥–∞–Ω–∏–µ —á–∞—Å—Ç–∏—Ü
            initParticles();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
            updateTime();
            setInterval(updateTime, 60000);
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã
            loadGame();
            
            // –°–∫—Ä—ã—Ç–∏–µ –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                const loadingScreen = document.getElementById('loadingScreen');
                loadingScreen.style.opacity = '0';
                setTimeout(() => {
                    loadingScreen.style.display = 'none';
                    document.getElementById('mainContent').style.display = 'block';
                    showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ KERYVERSE!', '–í–∞—à–∞ –∫—É–∫–æ–ª–∫–∞ –ö–µ—Ä—Ä–∏ –∂–¥—ë—Ç –∑–∞–±–æ—Ç—ã! –û–Ω–∞ —Å–µ–≥–æ–¥–Ω—è –æ—Å–æ–±–µ–Ω–Ω–æ –∫—Ä–∞—Å–∏–≤–∞—è! ‚ú®');
                    updateDialogue();
                    updateUI();
                    
                    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
                    setTimeout(() => {
                        showNotification('–°–æ–≤–µ—Ç –æ—Ç –ö–µ—Ä—Ä–∏', '–ù–∞–∂–º–∏ –Ω–∞ –º–µ–Ω—è, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –º–æ—é —Ä–µ–∞–∫—Ü–∏—é! üëÜ');
                    }, 2000);
                }, 500);
            }, 2000);
            
            // –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è –∫–Ω–æ–ø–æ–∫
            document.querySelectorAll('.action-btn, .shop-item, .nav-item').forEach(btn => {
                btn.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.98)';
                });
                
                btn.addEventListener('touchend', function() {
                    this.style.transform = '';
                });
            });
            
            // –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –∫—É–∫–æ–ª–∫–æ–π
            const doll = document.querySelector('.mobile-doll');
            doll.addEventListener('click', function() {
                const reactions = [
                    { text: "–û–π, —â–µ–∫–æ—Ç–Ω–æ! –¢—ã —Ç–∞–∫–æ–π –≤–µ—Å—ë–ª—ã–π! üòÑ", mood: 5 },
                    { text: "–ú–Ω–µ –Ω—Ä–∞–≤—è—Ç—Å—è —Ç–≤–æ–∏ –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏—è! –û–Ω–∏ —Ç–∞–∫–∏–µ –Ω–µ–∂–Ω—ã–µ! üíï", mood: 7 },
                    { text: "–¢—ã –¥–µ–ª–∞–µ—à—å –º–µ–Ω—è —Å—á–∞—Å—Ç–ª–∏–≤–æ–π! –Ø —Å–∏—è—é –æ—Ç —Ä–∞–¥–æ—Å—Ç–∏! ‚ú®", mood: 8 },
                    { text: "–î–∞–≤–∞–π –æ–±–Ω–∏–º–µ–º—Å—è! –¢—ã –ø–∞—Ö–Ω–µ—à—å —Ç–∞–∫ –ø—Ä–∏—è—Ç–Ω–æ! ü§ó", mood: 6 },
                    { text: "–¢—ã –ª—É—á—à–∏–π —Ö–æ–∑—è–∏–Ω! –Ø —Ç–∞–∫ —Ç–µ–±—è –ª—é–±–ª—é! ü•∞", mood: 10 }
                ];
                
                const reaction = reactions[Math.floor(Math.random() * reactions.length)];
                updateDialogue(reaction.text);
                increaseMood(reaction.mood);
                createTouchEffect();
                createSparkleEffect(doll);
                
                // –í–∏–±—Ä–∞—Ü–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
                if (navigator.vibrate) {
                    navigator.vibrate(50);
                }
            });
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
            setInterval(() => {
                const now = Date.now();
                const hoursPassed = (now - gameState.lastPlay) / (1000 * 60 * 60);
                
                if (hoursPassed >= 1) {
                    if (gameState.health > 20) gameState.health -= 0.5;
                    if (gameState.mood > 20) gameState.mood -= 0.8;
                    if (gameState.energy > 20) gameState.energy -= 1;
                    
                    updateUI();
                    updateMoodDisplay();
                    saveGame();
                    gameState.lastPlay = now;
                }
            }, 60000); // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
        });

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function updateTime() {
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            document.getElementById('currentTime').textContent = `${hours}:${minutes}`;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            document.getElementById('coinsStat').textContent = gameState.coins.toLocaleString();
            document.getElementById('gemsStat').textContent = gameState.gems;
            document.getElementById('levelStat').textContent = gameState.level;
            document.getElementById('healthValue').textContent = `${Math.round(gameState.health)}%`;
            document.getElementById('moodValue').textContent = `${Math.round(gameState.mood)}%`;
            document.getElementById('energyValue').textContent = `${Math.round(gameState.energy)}%`;
            document.getElementById('xpValue').textContent = `${Math.round(gameState.xp)}/${gameState.xpNeeded}`;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–æ–≤ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
            animateProgressBar('healthBar', gameState.health);
            animateProgressBar('moodBar', gameState.mood);
            animateProgressBar('energyBar', gameState.energy);
            animateProgressBar('xpBar', (gameState.xp / gameState.xpNeeded) * 100);
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
        function animateProgressBar(barId, targetValue) {
            const bar = document.getElementById(barId);
            const currentWidth = parseFloat(bar.style.width) || 0;
            const diff = Math.abs(targetValue - currentWidth);
            
            if (diff > 0.5) {
                bar.style.width = `${targetValue}%`;
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
        function updateMoodDisplay() {
            const moodEmoji = document.getElementById('moodEmoji');
            const moodText = document.getElementById('moodText');
            const mouth = document.querySelector('.doll-mouth');
            const eyes = document.querySelectorAll('.eye');
            
            if (gameState.mood >= 90) {
                moodEmoji.textContent = 'üíñ';
                moodText.textContent = 'Ecstatic';
                mouth.style.background = 'linear-gradient(135deg, #ff3366, #ff66cc)';
                eyes.forEach(eye => {
                    eye.style.boxShadow = '0 0 20px rgba(102, 204, 255, 0.6)';
                });
                gameState.dollMood = 'ecstatic';
            } else if (gameState.mood >= 70) {
                moodEmoji.textContent = 'üòä';
                moodText.textContent = 'Happy';
                mouth.style.background = 'linear-gradient(135deg, #ff66cc, #ff99cc)';
                eyes.forEach(eye => {
                    eye.style.boxShadow = '0 0 15px rgba(102, 204, 255, 0.5)';
                });
                gameState.dollMood = 'happy';
            } else if (gameState.mood >= 50) {
                moodEmoji.textContent = 'üôÇ';
                moodText.textContent = 'Good';
                mouth.style.background = 'linear-gradient(135deg, #ff99cc, #ffcccc)';
                eyes.forEach(eye => {
                    eye.style.boxShadow = '0 0 10px rgba(102, 204, 255, 0.4)';
                });
                gameState.dollMood = 'good';
            } else if (gameState.mood >= 30) {
                moodEmoji.textContent = 'üòê';
                moodText.textContent = 'Okay';
                mouth.style.background = 'linear-gradient(135deg, #ccccff, #9999ff)';
                mouth.style.borderRadius = '20px';
                eyes.forEach(eye => {
                    eye.style.boxShadow = '0 0 5px rgba(102, 204, 255, 0.3)';
                });
                gameState.dollMood = 'okay';
            } else {
                moodEmoji.textContent = 'üòî';
                moodText.textContent = 'Sad';
                mouth.style.background = 'linear-gradient(135deg, #9999ff, #6666ff)';
                mouth.style.borderRadius = '20px 20px 0 0';
                mouth.style.transform = 'translateX(-50%) rotate(180deg)';
                eyes.forEach(eye => {
                    eye.style.boxShadow = '0 0 5px rgba(102, 204, 255, 0.2)';
                });
                gameState.dollMood = 'sad';
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞
        function updateDialogue(customText) {
            const dialogue = document.getElementById('dialogueText');
            dialogue.style.opacity = '0';
            
            setTimeout(() => {
                dialogue.textContent = customText || dialogues[Math.floor(Math.random() * dialogues.length)];
                dialogue.style.opacity = '1';
                
                // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
                dialogue.classList.remove('animate__animated', 'animate__fadeInUp');
                void dialogue.offsetWidth; // Trigger reflow
                dialogue.classList.add('animate__animated', 'animate__fadeInUp');
            }, 200);
        }

        // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è
        function performAction(action) {
            let success = false;
            let message = '';
            
            switch(action) {
                case 'feed':
                    if (gameState.coins >= 15) {
                        gameState.coins -= 15;
                        gameState.health = Math.min(100, gameState.health + 10);
                        gameState.mood = Math.min(100, gameState.mood + 8);
                        gameState.xp += 20;
                        message = '–ö–µ—Ä—Ä–∏ –ø–æ–∫–æ—Ä–º–ª–µ–Ω–∞! +10 Health, +8 Mood';
                        updateDialogue("–í–∫—É—Å–Ω–æ! –°–ø–∞—Å–∏–±–æ –∑–∞ –µ–¥—É! –Ø –æ–±–æ–∂–∞—é —Ç–≤–æ—é –∑–∞–±–æ—Ç—É! üç∞");
                        success = true;
                    } else {
                        showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!', '–ù—É–∂–Ω–æ 15 –º–æ–Ω–µ—Ç', 'error');
                    }
                    break;
                    
                case 'play':
                    if (gameState.energy >= 5) {
                        gameState.energy -= 5;
                        gameState.mood = Math.min(100, gameState.mood + 15);
                        gameState.xp += 25;
                        message = '–í–µ—Å–µ–ª–æ –ø–æ–∏–≥—Ä–∞–ª–∏! +15 Mood, -5 Energy';
                        updateDialogue("–ë—ã–ª–æ —Ç–∞–∫ –≤–µ—Å–µ–ª–æ! –¢—ã —Å–∞–º—ã–π –ª—É—á—à–∏–π –ø–∞—Ä—Ç–Ω—ë—Ä –¥–ª—è –∏–≥—Ä! –î–∞–≤–∞–π –µ—â—ë! üéÆ");
                        success = true;
                    } else {
                        showNotification('–ú–∞–ª–æ —ç–Ω–µ—Ä–≥–∏–∏!', '–ö–µ—Ä—Ä–∏ —É—Å—Ç–∞–ª–∞, –¥–∞–π –µ–π –æ—Ç–¥–æ—Ö–Ω—É—Ç—å', 'warning');
                    }
                    break;
                    
                case 'beauty':
                    if (gameState.coins >= 25) {
                        gameState.coins -= 25;
                        gameState.mood = Math.min(100, gameState.mood + 20);
                        gameState.xp += 35;
                        message = '–£—Ö–æ–¥ –∑–∞–≤–µ—Ä—à—ë–Ω! +20 Mood';
                        updateDialogue("–Ø —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ! –¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π –º–∞—Å—Ç–µ—Ä –∫—Ä–∞—Å–æ—Ç—ã! üíÖ");
                        success = true;
                    } else {
                        showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!', '–ù—É–∂–Ω–æ 25 –º–æ–Ω–µ—Ç', 'error');
                    }
                    break;
                    
                case 'study':
                    if (gameState.energy >= 10) {
                        gameState.energy -= 10;
                        gameState.xp += 40;
                        message = '–£—Ä–æ–∫ –∑–∞–≤–µ—Ä—à—ë–Ω! +40 XP, -10 Energy';
                        updateDialogue("–Ø —É–∑–Ω–∞–ª–∞ –º–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ! –¢—ã –æ—Ç–ª–∏—á–Ω—ã–π —É—á–∏—Ç–µ–ª—å! üìö");
                        success = true;
                    } else {
                        showNotification('–ú–∞–ª–æ —ç–Ω–µ—Ä–≥–∏–∏!', '–ù—É–∂–Ω–æ –æ—Ç–¥–æ—Ö–Ω—É—Ç—å', 'warning');
                    }
                    break;
                    
                case 'rest':
                    gameState.energy = Math.min(100, gameState.energy + 25);
                    gameState.health = Math.min(100, gameState.health + 5);
                    message = '–ö–µ—Ä—Ä–∏ –æ—Ç–¥–æ—Ö–Ω—É–ª–∞! +25 Energy, +5 Health';
                    updateDialogue("–Ø –≤—ã—Å–ø–∞–ª–∞—Å—å –∏ –ø–æ–ª–Ω–∞ —Å–∏–ª! –¢–µ–ø–µ—Ä—å —è –≥–æ—Ç–æ–≤–∞ –∫ –Ω–æ–≤—ã–º –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—è–º! üí§");
                    success = true;
                    break;
                    
                case 'hug':
                    increaseMood(10);
                    message = '–û–±–Ω–∏–º–∞—à–∫–∏! +10 Mood';
                    updateDialogue("–û–±–Ω–∏–º–∞—à–∫–∏ —Å–∞–º—ã–µ –ª—É—á—à–∏–µ! –¢—ã —Ç–∞–∫–æ–π —Ç—ë–ø–ª—ã–π –∏ –∑–∞–±–æ—Ç–ª–∏–≤—ã–π! ü§ó");
                    success = true;
                    break;
            }
            
            if (success) {
                showNotification('–£—Å–ø–µ—Ö!', message);
                checkLevelUp();
                updateUI();
                updateMoodDisplay();
                saveGame();
                createActionEffect(event.target);
                gameState.lastPlay = Date.now();
            }
        }

        // –ü–æ–∫—É–ø–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–∞
        function buyItem(item) {
            const prices = {
                'dress': { coins: 120, mood: 15, xp: 30 },
                'hair': { coins: 80, health: 10, xp: 25 },
                'guide': { gems: 2, xp: 50 },
                'perfume': { coins: 150, mood: 20, xp: 35 }
            };
            
            const itemData = prices[item];
            let success = false;
            
            if (item === 'guide') {
                if (gameState.gems >= itemData.gems) {
                    gameState.gems -= itemData.gems;
                    gameState.xp += itemData.xp;
                    showNotification('–ì–∞–π–¥ –∫—É–ø–ª–µ–Ω!', `+${itemData.xp} XP`);
                    updateDialogue("–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–ª–µ–∑–Ω—ã–π –≥–∞–π–¥! –¢–µ–ø–µ—Ä—å —è –∑–Ω–∞—é –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –∫—Ä–∞—Å–æ—Ç—ã! üìñ");
                    success = true;
                } else {
                    showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∞–ª–º–∞–∑–æ–≤!', `–ù—É–∂–Ω–æ ${itemData.gems} –∞–ª–º–∞–∑–∞`, 'error');
                }
            } else {
                if (gameState.coins >= itemData.coins) {
                    gameState.coins -= itemData.coins;
                    
                    if (itemData.mood) {
                        gameState.mood = Math.min(100, gameState.mood + itemData.mood);
                    }
                    if (itemData.health) {
                        gameState.health = Math.min(100, gameState.health + itemData.health);
                    }
                    if (itemData.xp) {
                        gameState.xp += itemData.xp;
                    }
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –ø—Ä–µ–¥–º–µ—Ç –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
                    if (!gameState.inventory.includes(item)) {
                        gameState.inventory.push(item);
                    }
                    
                    showNotification('–ü–æ–∫—É–ø–∫–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–∞!', `–ü—Ä–µ–¥–º–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å!`);
                    updateDialogue("–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–¥–∞—Ä–æ–∫! –Ø –æ–±–æ–∂–∞—é –µ–≥–æ! –¢—ã —Å–∞–º—ã–π —â–µ–¥—Ä—ã–π! üéÅ");
                    success = true;
                } else {
                    showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç!', `–ù—É–∂–Ω–æ ${itemData.coins} –º–æ–Ω–µ—Ç`, 'error');
                }
            }
            
            if (success) {
                updateUI();
                saveGame();
                createPurchaseEffect(event.target);
                gameState.lastPlay = Date.now();
            }
        }

        // –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
        function increaseMood(amount) {
            gameState.mood = Math.min(100, gameState.mood + amount);
            updateMoodDisplay();
            updateUI();
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
        function checkLevelUp() {
            if (gameState.xp >= gameState.xpNeeded) {
                gameState.level++;
                gameState.xp -= gameState.xpNeeded;
                gameState.xpNeeded = Math.floor(gameState.xpNeeded * 1.2);
                gameState.coins += gameState.level * 50;
                gameState.gems += 1;
                
                showNotification('–£—Ä–æ–≤–µ–Ω—å –ø–æ–≤—ã—à–µ–Ω!', `–¢–µ–ø–µ—Ä—å —É—Ä–æ–≤–µ–Ω—å ${gameState.level}! –ü–æ–ª—É—á–µ–Ω–æ: ${gameState.level * 50} –º–æ–Ω–µ—Ç, 1 –∞–ª–º–∞–∑`);
                updateDialogue(`–£—Ä–∞! –Ø –¥–æ—Å—Ç–∏–≥–ª–∞ ${gameState.level} —É—Ä–æ–≤–Ω—è! –°–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø–æ–º–æ–≥–∞–µ—à—å –º–Ω–µ —Ä–∞—Å—Ç–∏! üéâ`);
                createLevelUpEffect();
            }
        }

        // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Telegram
        function connectTelegram() {
            gameState.coins += 100;
            gameState.gems += 2;
            showNotification('Telegram –ø–æ–¥–∫–ª—é—á—ë–Ω!', '+100 Coins, +2 Gems');
            updateDialogue("–¢–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –æ–±—â–∞—Ç—å—Å—è –≤ Telegram! –≠—Ç–æ —Ç–∞–∫ —É–¥–æ–±–Ω–æ! üì±");
            updateUI();
            saveGame();
            gameState.lastPlay = Date.now();
        }

        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        function switchTab(tab) {
            event.preventDefault();
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // –ü—Ä–æ—Å—Ç–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
            const tabNames = {
                'home': '–ì–ª–∞–≤–Ω–∞—è',
                'shop': '–ú–∞–≥–∞–∑–∏–Ω',
                'quests': '–ó–∞–¥–∞–Ω–∏—è',
                'profile': '–ü—Ä–æ—Ñ–∏–ª—å'
            };
            
            showNotification(`${tabNames[tab]}`, '–≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª —Å–∫–æ—Ä–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω!');
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(title, message, type = 'success') {
            const notification = document.getElementById('notification');
            const icon = notification.querySelector('.notification-icon i');
            const titleEl = notification.querySelector('.notification-title');
            const messageEl = notification.querySelector('.notification-message');
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–∫–æ–Ω–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
            switch(type) {
                case 'success':
                    icon.className = 'fas fa-check';
                    notification.style.borderLeftColor = '#4cd964';
                    break;
                case 'error':
                    icon.className = 'fas fa-times';
                    notification.style.borderLeftColor = '#ff3b30';
                    break;
                case 'warning':
                    icon.className = 'fas fa-exclamation';
                    notification.style.borderLeftColor = '#ffcc00';
                    break;
            }
            
            titleEl.textContent = title;
            messageEl.textContent = message;
            
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
        function createTouchEffect() {
            const doll = document.querySelector('.mobile-doll');
            const hearts = ['üíñ', 'üíï', 'üíó', 'üíì', 'üíû'];
            
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.textContent = hearts[i];
                    heart.style.position = 'absolute';
                    heart.style.fontSize = '24px';
                    heart.style.left = `${40 + Math.random() * 20}%`;
                    heart.style.top = `${40 + Math.random() * 20}%`;
                    heart.style.opacity = '0';
                    heart.style.zIndex = '100';
                    heart.style.animation = `floatUp 1.5s ease-out ${i * 0.1}s forwards`;
                    
                    doll.appendChild(heart);
                    setTimeout(() => heart.remove(), 1500);
                }, i * 100);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é floatUp
            if (!document.querySelector('#floatUp')) {
                const style = document.createElement('style');
                style.id = 'floatUp';
                style.textContent = `
                    @keyframes floatUp {
                        0% { 
                            transform: translateY(0) rotate(0deg); 
                            opacity: 1; 
                        }
                        100% { 
                            transform: translateY(-100px) rotate(20deg); 
                            opacity: 0; 
                        }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        function createSparkleEffect(element) {
            const sparkles = ['‚ú®', 'üåü', '‚≠ê', 'üå†'];
            
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.textContent = sparkles[Math.floor(Math.random() * sparkles.length)];
                    sparkle.style.position = 'absolute';
                    sparkle.style.fontSize = '20px';
                    sparkle.style.left = `${Math.random() * 100}%`;
                    sparkle.style.top = `${Math.random() * 100}%`;
                    sparkle.style.opacity = '0.9';
                    sparkle.style.zIndex = '50';
                    sparkle.style.animation = `sparklePop 0.8s ease-out forwards`;
                    
                    element.appendChild(sparkle);
                    setTimeout(() => sparkle.remove(), 800);
                }, i * 150);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é sparklePop
            if (!document.querySelector('#sparklePop')) {
                const style = document.createElement('style');
                style.id = 'sparklePop';
                style.textContent = `
                    @keyframes sparklePop {
                        0% { 
                            transform: scale(0) rotate(0deg); 
                            opacity: 0; 
                        }
                        50% { 
                            transform: scale(1.2) rotate(180deg); 
                            opacity: 1; 
                        }
                        100% { 
                            transform: scale(0) rotate(360deg); 
                            opacity: 0; 
                        }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        function createActionEffect(button) {
            button.style.transform = 'scale(0.95)';
            
            // –°–æ–∑–¥–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç –≤–æ–ª–Ω—ã
            const wave = document.createElement('div');
            wave.style.position = 'absolute';
            wave.style.width = '100%';
            wave.style.height = '100%';
            wave.style.background = 'radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%)';
            wave.style.borderRadius = '20px';
            wave.style.top = '0';
            wave.style.left = '0';
            wave.style.opacity = '0';
            wave.style.animation = 'waveEffect 0.6s ease-out';
            
            button.appendChild(wave);
            setTimeout(() => {
                button.style.transform = '';
                wave.remove();
            }, 600);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é waveEffect
            if (!document.querySelector('#waveEffect')) {
                const style = document.createElement('style');
                style.id = 'waveEffect';
                style.textContent = `
                    @keyframes waveEffect {
                        0% { 
                            transform: scale(0.8); 
                            opacity: 1; 
                        }
                        100% { 
                            transform: scale(2); 
                            opacity: 0; 
                        }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        function createPurchaseEffect(item) {
            item.style.transform = 'scale(0.95)';
            
            // –≠—Ñ—Ñ–µ–∫—Ç –±–ª–µ—Å–∫–∞
            const shine = document.createElement('div');
            shine.style.position = 'absolute';
            shine.style.width = '100%';
            shine.style.height = '100%';
            shine.style.background = 'linear-gradient(135deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 50%, rgba(255,255,255,0) 100%)';
            shine.style.top = '0';
            shine.style.left = '-100%';
            shine.style.animation = 'shineEffect 0.8s ease-out';
            
            item.appendChild(shine);
            setTimeout(() => {
                item.style.transform = '';
                shine.remove();
            }, 800);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é shineEffect
            if (!document.querySelector('#shineEffect')) {
                const style = document.createElement('style');
                style.id = 'shineEffect';
                style.textContent = `
                    @keyframes shineEffect {
                        0% { left: -100%; }
                        100% { left: 100%; }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        function createLevelUpEffect() {
            // –≠—Ñ—Ñ–µ–∫—Ç —Ñ–µ–π–µ—Ä–≤–µ—Ä–∫–∞
            const container = document.querySelector('.character-section');
            const colors = ['#ff66cc', '#66ccff', '#cc66ff', '#ffcc66'];
            
            for (let i = 0; i < 15; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.style.position = 'absolute';
                    particle.style.width = '8px';
                    particle.style.height = '8px';
                    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                    particle.style.borderRadius = '50%';
                    particle.style.left = '50%';
                    particle.style.top = '50%';
                    particle.style.boxShadow = '0 0 10px currentColor';
                    particle.style.zIndex = '100';
                    particle.style.animation = `firework 1s ease-out forwards`;
                    
                    container.appendChild(particle);
                    setTimeout(() => particle.remove(), 1000);
                }, i * 50);
            }
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∞–Ω–∏–º–∞—Ü–∏—é firework
            if (!document.querySelector('#firework')) {
                const style = document.createElement('style');
                style.id = 'firework';
                style.textContent = `
                    @keyframes firework {
                        0% { 
                            transform: translate(-50%, -50%) scale(0); 
                            opacity: 1; 
                        }
                        50% { 
                            transform: translate(${Math.random() * 100 - 50}px, ${Math.random() * 100 - 50}px) scale(1); 
                            opacity: 1; 
                        }
                        100% { 
                            transform: translate(${Math.random() * 200 - 100}px, ${Math.random() * 200 - 100}px) scale(0); 
                            opacity: 0; 
                        }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–∑–∞–≥—Ä—É–∑–∫–∞ –∏–≥—Ä—ã
        function saveGame() {
            const saveData = {
                ...gameState,
                saveTime: Date.now()
            };
            localStorage.setItem('keryverse_mobile_save', JSON.stringify(saveData));
        }

        function loadGame() {
            const saved = localStorage.getItem('keryverse_mobile_save');
            if (saved) {
                try {
                    const loaded = JSON.parse(saved);
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∫–æ–≥–¥–∞ –±—ã–ª–æ –ø–æ—Å–ª–µ–¥–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
                    const now = Date.now();
                    const hoursPassed = (now - loaded.saveTime) / (1000 * 60 * 60);
                    
                    // –ï—Å–ª–∏ –ø—Ä–æ—à–ª–æ –±–æ–ª—å—à–µ 2 —á–∞—Å–æ–≤, –Ω–µ–º–Ω–æ–≥–æ —Å–Ω–∏–∂–∞–µ–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
                    if (hoursPassed > 2) {
                        const decay = Math.min(hoursPassed * 0.5, 30); // –ú–∞–∫—Å–∏–º—É–º 30% —Å–Ω–∏–∂–µ–Ω–∏—è
                        loaded.health = Math.max(20, loaded.health - decay);
                        loaded.mood = Math.max(20, loaded.mood - decay * 1.2);
                        loaded.energy = Math.max(20, loaded.energy - decay * 1.5);
                    }
                    
                    Object.assign(gameState, loaded);
                    gameState.lastPlay = now;
                    updateUI();
                    updateMoodDisplay();
                } catch (e) {
                    console.log('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:', e);
                }
            }
        }

        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ pull-to-refresh –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
        let touchStartY = 0;
        document.addEventListener('touchstart', e => {
            touchStartY = e.touches[0].clientY;
        }, { passive: true });

        document.addEventListener('touchmove', e => {
            const touchY = e.touches[0].clientY;
            const scrolledToTop = document.querySelector('.main-content').scrollTop === 0;
            const isPullDown = touchY > touchStartY;
            
            if (scrolledToTop && isPullDown) {
                e.preventDefault();
            }
        }, { passive: false });

        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∑—É–º–∞ –¥–≤–æ–π–Ω—ã–º —Ç–∞–ø–æ–º
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function(event) {
            const now = Date.now();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ—Å–µ—â–µ–Ω–∏–∏
        if (!localStorage.getItem('keryverse_first_visit')) {
            localStorage.setItem('keryverse_first_visit', 'true');
            setTimeout(() => {
                showNotification('–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!', '–ù–∞–∂–º–∏ –Ω–∞ –∫—É–∫–æ–ª–∫—É –ö–µ—Ä—Ä–∏, —á—Ç–æ–±—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –Ω–µ–π!');
            }, 3000);
        }
    </script>
</body>
</html>
